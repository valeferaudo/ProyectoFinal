<div>
    <div class="row">
        <div class="col-md-6">
            <h2 class="card-title"><strong>Solicitudes </strong></h2>
        </div>
    </div>
</div>
<hr>
<div class="card-body"> 
    <form class="m-t-5 row p-0" [formGroup]="requestForm" autocomplete="off">
        <div class="form-group col-md-3 m-t-5 m-b-5" [class.has-danger]="getFieldValid('section')">
            <label for=""><strong>Tipo</strong></label> <br>
            <select name="" id="" [class.form-control-danger]="getFieldValid('section')" formControlName="section">
                <option value="" hidden>Seleccione</option>
                <option value="1">Deportes</option>
                <option value="2">Características</option>
                <option value="3">Servicios</option>
            </select>
            <div class="form-control-feedback" *ngIf="getFieldValid('section')">*Seleccione el tipo</div>
        </div>
        <div class="form-group col-md-9 m-t-5 m-b-5" [class.has-danger]="getFieldValid('description')">
            <label for=""><strong>Descripción</strong></label>
            <textarea type="text" 
                class="form-control form-control-line"
                placeholder="Ingrese una dirección"
                formControlName="description">
        </textarea>
            <div class="form-control-feedback" *ngIf="getFieldValid('description')">*Ingrese la descripción.</div>
        </div>
    </form>
    <div class="form-group col-md-12 text-center">
        <button (click)="sendRequest()" class="btn btn-info mr-1">Enviar</button>
    </div>            
</div>
<hr>
<div>
    <div class="row">
        <div class="col-md-6">
            <h5 class="card-title"><strong>Realizadas</strong></h5>
        </div>
    </div>
</div>
<div class="table-responsive animated fadeIn" *ngIf="requests.length!==0">
    <table id="myTable" class="table table-sm table-hover color-table inverse-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Tipo</th>
                <th>Descripción</th>
                <th>Email</th>
                <th class="text-center">Estado</th>
                <th class="text-center">Visto</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of requests; let i = index">
                <td>{{i+1}}</td>
                <td>{{item.section}}</td>
                <td>{{item.description}}</td>
                <td>{{item.creatorEmail}}</td>
                <td class="text-center"><i class="fas fa-check-circle text-success" *ngIf="item.state === true"></i>
                    <i class="fas fa-times-circle text-danger" *ngIf="item.state === false"></i>
                    <i class="fas fa-pause-circle text-warning" *ngIf="item.state === null"></i>
                </td>
                <td class="text-center"><i class="fas fa-check-double text-info" *ngIf="item.seen === true"></i></td>
            </tr>
        </tbody>
    </table>
</div>
<div class="alert alert-danger animated fadeIn" role="alert" *ngIf="requests.length === 0"> 
    <i class="ti-equs"></i> No se encontraron <strong>Solicitudes</strong>
</div>
